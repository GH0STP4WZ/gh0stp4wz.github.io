<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css" />
  <link rel="icon" href="https://api.lanyard.rest/801089753038061669.png" type="image/x-icon" />
  <title>Home | Aurora's Site</title>
  <meta content="Aurora's Site" property="og:title" />
  <meta content="This is Aurora's personal website." property="og:description" />
  <meta content="https://aurora.is-a.dev/" property="og:url" />
  <meta content="https://api.lanyard.rest/801089753038061669.png" property="og:image" />
  <meta content="#f38ba8" data-react-helmet="true" name="theme-color" />
  <style>
    :root {
      --ctp-base: #1e1e2e;
      --ctp-mantle: #181825;
      --ctp-crust: #11111b;
      --ctp-text: #cdd6f4;
      --ctp-subtext0: #a6adc8;
      --ctp-subtext1: #bac2de;
      --ctp-surface0: #313244;
      --ctp-surface1: #45475a;
      --ctp-surface2: #585b70;
      --ctp-overlay0: #6c7086;
      --ctp-overlay1: #7f849c;
      --ctp-overlay2: #9399b2;
      --ctp-blue: #89b4fa;
      --ctp-lavender: #b4befe;
      --ctp-sapphire: #74c7ec;
      --ctp-sky: #89dceb;
      --ctp-teal: #94e2d5;
      --ctp-green: #a6e3a1;
      --ctp-yellow: #f9e2af;
      --ctp-peach: #fab387;
      --ctp-maroon: #eba0ac;
      --ctp-red: #f38ba8;
      --ctp-mauve: #cba6f7;
      --ctp-pink: #f5c2e7;
      --ctp-flamingo: #f2cdcd;
      --ctp-rosewater: #f5e0dc;
      
      --accent: var(--ctp-red);
      --bg-opacity: 0.7;
      --card-bg: rgba(30, 30, 46, 0.85);
      --card-border: var(--ctp-red);
      --card-hover-shadow: var(--ctp-red);
      --text-glow: var(--ctp-red);
    }

    @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&display=swap');
    
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: 'JetBrains Mono', monospace;
      background-color: var(--ctp-base);
      background: var(--ctp-crust);
      background-size: cover;
      background-position: center;
      background-attachment: fixed;
      color: var(--ctp-text);
      line-height: 1.6;
      padding-bottom: 100px;
    }

    .navbar {
      background-color: var(--ctp-mantle);
      border-bottom: 1px solid var(--accent);
      padding: 0.5rem 0;
      position: fixed;
      width: 100%;
      top: 0;
      z-index: 100;
      backdrop-filter: blur(10px);
      animation: slideDown 0.5s ease;
    }
    
    .nav-container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: center;
      padding: 0 2rem;
    }
    
    .nav-links {
      display: flex;
      gap: 1.5rem;
    }
    
    .nav-links a, .about-content a {
      color: var(--ctp-text);
      text-decoration: none;
      font-weight: bold;
      position: relative;
      transition: all 0.3s ease;
    }
    
    .nav-links a:hover, .about-content a:hover {
      color: var(--accent);
      text-shadow: 0 0 8px var(--text-glow);
    }
    
    .nav-links a::after, .about-content p a::after {
      content: '';
      position: absolute;
      width: 0;
      height: 2px;
      bottom: -5px;
      left: 50%;
      background-color: var(--accent);
      transition: all 0.3s ease;
      transform: translateX(-50%);
      opacity: 0;
    }
    
    .nav-links a:hover::afte, .about-content p a:hover::after {
      width: 100%;
      opacity: 1;
    }
    
    .container {
      max-width: 1300px;
      margin: 6rem auto 2rem;
      padding: 0 1rem;
      display: grid;
      gap: 2rem;
      grid-template-columns: 1fr 3fr;
      grid-template-areas: 
        "profile about"
        "friends friends";
      animation: fadeIn 0.5s ease;
    }
    
    .card {
      background-color: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 12px;
      padding: 1.5rem;
      backdrop-filter: blur(5px);
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    
    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2), 0 0 8px var(--card-hover-shadow);
    }
    
    .profile-section {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: left;
      width: 400px;
      grid-area: profile;
      height: fit-content;
    }
    
    .profile-picture {
      width: 150px;
      height: 150px;
      border-radius: 50%;
      margin-bottom: 1rem;
      border: 3px solid var(--accent);
      box-shadow: 0 0 15px var(--card-hover-shadow);
      transition: all 0.3s ease;
      object-fit: cover;
      animation: pulse 2s infinite;
    }
    
    .profile-picture:hover {
      transform: scale(1.05) rotate(5deg);
      box-shadow: 0 0 25px var(--card-hover-shadow);
    }
    
    .profile-name {
      font-size: 2rem;
      margin: 0.5rem 0;
      font-weight: bold;
      letter-spacing: 1px;
      background: linear-gradient(45deg, var(--ctp-red), var(--ctp-pink));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      animation: gradient 3s ease infinite;
    }
    
    .profile-pronouns {
      color: var(--ctp-subtext0);
      margin-bottom: 1rem;
      font-style: italic;
    }

    .discord-status {
      width: 100%;
    }

    .discord-status-card {
      background-color: var(--ctp-surface0);
      border-radius: 8px;
      padding: 1rem;
      margin-top: 0.5rem;
      width: 100%;
      transition: all 0.3s ease;
      border: 1px solid var(--accent);
      max-width: 350px;
    }

    .status-content {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }

    .activities-container {
      max-height: 150px;
      overflow-y: auto;
      margin-top: 0.5rem;
      scrollbar-width: thin;
      scrollbar-color: var(--accent) var(--ctp-surface0);
    }

    .activities-container::-webkit-scrollbar {
      width: 8px;
    }

    .activities-container::-webkit-scrollbar-track {
      background: var(--ctp-surface0);
      border-radius: 4px;
    }

    .activities-container::-webkit-scrollbar-thumb {
      background: var(--accent);
      border-radius: 4px;
    }

    .activity {
      border-top: 1px solid var(--ctp-surface1);
      padding-top: 0.8rem;
      margin-top: 0.3rem;
      width: 100%;
    }

    .activity:first-child {
      border-top: none;
      margin-top: 0;
    }

    .activity-header {
      font-weight: bold;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .activity-content {
      display: flex;
      gap: 0.8rem;
      align-items: center;
      width: 100%;
      max-width: 100%;
    }

    .activity-img {
      width: 64px;
      height: 64px;
      border-radius: 8px;
      object-fit: cover;
      flex-shrink: 0;
    }

    .placeholder-img {
      width: 64px;
      height: 64px;
      border-radius: 8px;
      flex-shrink: 0;
      background: var(--ctp-surface1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      color: var(--ctp-overlay0);
      font-weight: bold;
    }

    .activity-img.rotating,
    .placeholder-img.rotating {
      border-radius: 50%;
    }

    .placeholder-img.rotating {
      background: var(--ctp-surface1) url('assets/cd.png') no-repeat center center;
      background-size: cover;
      color: transparent;
    }

    .activity-details {
      flex: 1;
      min-width: 0;
      overflow: hidden;
    }

    .text-truncate {
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
      position: relative;
      cursor: default;
    }

    .text-truncate[title] {
      cursor: help;
    }

    .text-truncate:hover::before {
      content: attr(title);
      position: absolute;
      left: 0;
      top: 100%;
      background: var(--ctp-mantle);
      padding: 4px 8px;
      border-radius: 4px;
      border: 1px solid var(--accent);
      z-index: 1000;
      white-space: normal;
      word-break: break-word;
      max-width: 300px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
    }

    .spotify {
      color: var(--ctp-green);
    }

    .game {
      color: var(--ctp-sapphire);
    }

    .watching {
      color: var(--ctp-red);
    }

    .rich-presence {
      color: var(--ctp-lavender);
    }

    .song-title, .game-name, .media-name, .app-name {
      font-weight: bold;
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .song-artist, .song-album, .game-details, .game-state, .media-details, .media-state, .app-details, .app-state {
      font-size: 0.9rem;
      color: var(--ctp-subtext0);
      white-space: nowrap;
      overflow: hidden;
      text-overflow: ellipsis;
    }

    .activity-none {
      color: var(--ctp-subtext0);
      font-style: italic;
    }

    .badges {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin-top: 2rem;
    }
    
    .badge {
      transition: all 0.3s ease;
    }
    
    .badge:hover {
      transform: scale(1.1) rotate(-5deg);
    }
    
    .badge img {
      max-width: 150px;
      height: auto;
      filter: drop-shadow(0 0 5px var(--card-hover-shadow));
    }
    
    .about-section {
      grid-area: about;
    }
    
    .section-title {
      color: var(--accent);
      margin-bottom: 1rem;
      font-size: 1.5rem;
      position: relative;
      display: inline-block;
    }
    
    .section-title::after {
      content: '';
      position: absolute;
      bottom: -5px;
      left: 0;
      width: 100%;
      height: 2px;
      background-color: var(--accent);
      box-shadow: 0 0 5px var(--card-hover-shadow);
    }
    
    .about-content p {
      margin-bottom: 1rem;
      transition: all 0.3s ease;
    }
    
    .about-content p:hover {
      color: var(--accent);
      transform: translateX(10px);
    }
    
    .friends-section {
      grid-area: friends;
    }
    
    .friends-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
      gap: 1.5rem;
      margin-top: 1.5rem;
    }
    
    .friend-card {
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      transition: all 0.3s ease;
      padding: 1rem;
      border-radius: 12px;
      background-color: var(--ctp-surface0);
      border: 1px solid transparent;
      overflow: hidden;
      white-space: wrap;
      line-break: anywhere;
    }
    
    .friend-card:hover {
      transform: scale(1.1) translateY(-5px);
      border-color: var(--accent);
      box-shadow: 0 0 15px var(--card-hover-shadow);
    }
    
    .friend-icon {
      width: 70px;
      height: 70px;
      border-radius: 50%;
      margin-bottom: 0.5rem;
      object-fit: cover;
      border: 2px solid var(--accent);
      transition: all 0.3s ease;
    }
    
    .friend-card:hover .friend-icon {
      transform: rotate(360deg);
    }
    
    .friend-name {
      font-size: 0.6rem;
      color: var(--ctp-text);
      transition: all 0.3s ease;
    }
    
    .friend-card:hover .friend-name {
      color: var(--accent);
      text-shadow: 0 0 5px var(--text-glow);
    }
    
    .footer {
      text-align: center;
      position: fixed;
      bottom: 0;
      width: 100%;
      padding: 1rem;
      background-color: var(--ctp-mantle);
      border-top: 1px solid var(--accent);
      backdrop-filter: blur(10px);
    }

    @keyframes slideDown {
      from {
        transform: translateY(-100%);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes pulse {
      0% {
        box-shadow: 0 0 0 0 rgba(243, 139, 168, 0.4);
      }
      70% {
        box-shadow: 0 0 0 10px rgba(243, 139, 168, 0);
      }
      100% {
        box-shadow: 0 0 0 0 rgba(243, 139, 168, 0);
      }
    }

    @keyframes gradient {
      0% {
        background-position: 0% 50%;
      }
      50% {
        background-position: 100% 50%;
      }
      100% {
        background-position: 0% 50%;
      }
    }

    @media (max-width: 768px) {
      .container {
        grid-template-columns: 1fr;
        grid-template-areas: 
          "profile"
          "about"
          "friends";
      }
      
      .profile-section {
        width: 100%;
      }
      
      .friends-grid {
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
      }
      
      .friend-card {
        padding: 0.8rem;
      }
      
      .friend-icon {
        width: 50px;
        height: 50px;
      }

      .status-content {
        max-height: 200px;
      }
    }
  </style>
</head>
<body>
  <div class="navbar">
    <div class="nav-container">
      <div class="nav-links">
        <a href="/">Home</a>
        <a href="/links">Links</a>
        <a href="/blog">Blog</a>
        <a href="/downloads-pages/">Downloads</a>
        <a href="/ikw/">IKW Rooms</a>
        <a href="/ctgp-c/">CTGP-Classic Rooms</a>
      </div>
    </div>
  </div>
  
  <div class="container">
    <div class="profile-section card">
      <img id="profile-picture" class="profile-picture" src="https://api.lanyard.rest/801089753038061669.png" alt="Profile Picture" />
      <h1 class="profile-name">⋆⁺₊⛧☽𝔊𝔥𝔬𝔰𝔱𝔓𝔞𝔴𝔰☾⛧₊⁺⋆</h1>
      <p class="profile-pronouns">Demi-Girl ⛧ It/Its</p>
      
      <div class="discord-status">
        <div class="discord-status-card">
          <div id="discord-status-container" class="status-content">
            Loading Discord status...
          </div>
        </div>
      </div>
      
      <div class="badges">
        <a href="https://xenia-linux-site.glitch.me/" class="badge">
          <img src="assets/badges/xeniaS.png" alt="Xenia Badge">
        </a>
        <a href="https://www.dictionary.com/browse/porn" class="badge">
          <img src="assets/badges/not_intended_for_children_03.jpg" alt="Not For Children">
        </a>
      </div>
    </div>
    
    <div class="about-section card">
      <h2 class="section-title">About Me</h2>
      <div class="about-content">
        <p>Hi, my name is Aurora Dess "Ghostie" Hartman, better known online as "GH0STP4WZ" or "R3DGH0STP4WZ". Friends may also just call me GH0ST.</p>
        <p>I'm a 24 year old autistic transgender (male to female) emo demi-girl who regularly struggles with social anxiety and the occasional depression.</p>
        <p>I am a part of the <a href="https://wiki.tockdom.com/wiki/Insane_Kart_Wii" style="color: var(--ctp-red);">Insane Kart Wii</a> team as a community moderator and online server manager. I also manage the IKW Time Trial Database as a side job.</p>
        <p>I primarily work in Mario Kart Wii modding, and basic web development.</p>
        <p>I do not take commissions. I probably never will take commissions.</p>
        <p>For contact and socials, see the <a href="/links/" style="color: var(--ctp-red);">links</a> page.</p>
      </div>
    </div>
    
    <div class="friends-section card">
      <h2 class="section-title">Friends' Websites</h2>
      <div class="friends-grid">
        <a href="https://faey.net/" class="friend-card">
          <img class="friend-icon" src="assets/placeholder.png" alt="Faey" />
          <div class="friend-name">Faey.net</div>
        </a>
        
        <a href="https://enkdev.xyz/" class="friend-card">
          <img class="friend-icon" src="https://enkdev.xyz/img/enkdev_logoDefault.png" alt="EnKdev" />
          <div class="friend-name">EnKdev.xyz</div>
        </a>
        
        <a href="https://luxploit.net/" class="friend-card">
          <img class="friend-icon" src="https://luxploit.net/images/pfp.png" alt="luxploit" />
          <div class="friend-name">luxploit.net</div>
        </a>
        
        <a href="https://neoumbreon.com/" class="friend-card">
          <img class="friend-icon" src="https://neoumbreon.com/media/neoumbreon.png" alt="NeoUmbreon" />
          <div class="friend-name">neoumbreon.com</div>
        </a>
        
        <a href="https://github.com/Notiphiliac" class="friend-card">
          <img class="friend-icon" src="https://avatars.githubusercontent.com/u/59151989" alt="Notiphiliac" />
          <div class="friend-name">github.com/notiphiliac</div>
        </a>
        
        <a href="https://github.com/zrodevkaan" class="friend-card">
          <img class="friend-icon" src="https://avatars.githubusercontent.com/u/90235641" alt="zrodevkaan" />
          <div class="friend-name">github.com/zrodevkaan</div>
        </a>
        
        <a href="https://inkstray.neocities.org" class="friend-card">
          <img class="friend-icon" src="https://avatars.githubusercontent.com/u/80412260" alt="Inkstray" />
          <div class="friend-name">inkstray.neocities.org</div>
        </a>

        <a href="https://hereticalproductions.net/" class="friend-card">
          <img class="friend-icon" src="https://hereticalproductions.net/images/aeriscasual.gif" alt="Aeris" />
          <div class="friend-name">hereticalproductions.net</div>
        </a>
      </div>
    </div>
  </div>
  
  <div class="footer">
    <p>&copy; 2025 Aurora "GH0STP4WZ" Hartman</p>
    <p>Made with ❤️ and 🏳️‍⚧️ rights</p>
  </div>

  <script>
    let previousActivities = {};
    let rotationAngles = {};
    let lastFrameTime = 0;
    const ROTATION_SPEED = 30; // degrees per second

    function updateRotations(currentTime) {
      if (!lastFrameTime) lastFrameTime = currentTime;
      const deltaTime = (currentTime - lastFrameTime) / 1000; // Convert to seconds
      lastFrameTime = currentTime;

      document.querySelectorAll('.rotating').forEach(element => {
        const activityId = element.closest('[data-activity-id]').getAttribute('data-activity-id');
        if (!rotationAngles[activityId]) {
          rotationAngles[activityId] = 0;
        }
        
        rotationAngles[activityId] = (rotationAngles[activityId] + ROTATION_SPEED * deltaTime) % 360;
        element.style.transform = `rotate(${rotationAngles[activityId]}deg)`;
      });

      requestAnimationFrame(updateRotations);
    }

    function activityChanged(oldActivity, newActivity) {
      if (!oldActivity || !newActivity) return true;
      return JSON.stringify(oldActivity) !== JSON.stringify(newActivity);
    }

    function createTruncatedElement(text, className) {
      return `<div class="text-truncate ${className}" title="${text.replace(/"/g, '&quot;')}">${text}</div>`;
    }

    function fetchDiscordStatus() {
      fetch('https://api.lanyard.rest/v1/users/801089753038061669')
        .then(response => response.json())
        .then(data => {
          if (data.success) {
            updateDiscordStatus(data.data);
          }
        })
        .catch(error => console.error('Error fetching Discord status:', error));
    }

    function getAssetUrl(activity, assetKey) {
      const asset = activity.assets?.[assetKey];
      if (!asset) return null;

      if (asset.startsWith('mp:external/')) {
        const externalUrl = asset.split('/').slice(2).join('/');
        return decodeURIComponent(externalUrl);
      }

      if (asset.startsWith('http://') || asset.startsWith('https://')) {
        return asset;
      }

      if (asset.startsWith('spotify:')) {
        return `https://i.scdn.co/image/${asset.substring(8)}`;
      }

      if (activity.application_id) {
        return `https://cdn.discordapp.com/app-assets/${activity.application_id}/${asset}`;
      }

      return asset;
    }

    function updateDiscordStatus(data) {
      const statusElement = document.getElementById('discord-status-container');
      let statusHTML = '';
      
      // Status indicator
      if (data.discord_status) {
        let statusIcon = '';
        let statusText = data.discord_status;
        
        switch(data.discord_status) {
          case 'online':
            statusIcon = '<span style="color: var(--ctp-green);">●</span>';
            statusText = 'Online';
            break;
          case 'idle':
            statusIcon = '<span style="color: var(--ctp-yellow);">●</span>';
            statusText = 'Idle';
            break;
          case 'dnd':
            statusIcon = '<span style="color: var(--ctp-red);">●</span>';
            statusText = 'Do Not Disturb';
            break;
          default:
            statusIcon = '<span style="color: var(--ctp-surface0);">●</span>';
            statusText = 'Offline';
        }
        
        statusHTML += `<div class="status-line">${statusIcon} ${statusText}</div>`;
      }
      
      // Custom Status
      const customStatus = data.activities.find(activity => activity.type === 4);
      if (customStatus && customStatus.state) {
        let emojiHTML = '';
        if (customStatus.emoji) {
          if (customStatus.emoji.id) {
            const animated = customStatus.emoji.animated ? 'a' : '';
            emojiHTML = `<img style="height: 1em; vertical-align: middle; margin-right: 4px;" src="https://cdn.discordapp.com/emojis/${customStatus.emoji.id}.${animated ? 'gif' : 'png'}" alt="${customStatus.emoji.name}" title=":${customStatus.emoji.name}:" />`;
          } else {
            emojiHTML = `<span title=":${customStatus.emoji.name}:">${customStatus.emoji.name} </span>`;
          }
        }
        statusHTML += `<div class="status-message">${emojiHTML}${customStatus.state}</div>`;
      }
      
      // Activities
      const activities = data.activities.filter(activity => activity.type !== 4);
      let activitiesHTML = '';
      
      if (activities.length > 0) {
        activities.forEach(activity => {
          const activityId = `${activity.type}-${activity.name}`;
          if (!activityChanged(previousActivities[activityId], activity)) {
            const existingActivity = document.querySelector(`[data-activity-id="${activityId}"]`);
            if (existingActivity) {
              activitiesHTML += existingActivity.outerHTML;
              return;
            }
          }

          switch(activity.type) {
            case 0: // Playing a game
              const gameImage = getAssetUrl(activity, 'large_image') || activity.assets?.large_image;
              
              activitiesHTML += `
                <div class="activity game" data-activity-id="${activityId}">
                  <div class="activity-header">
                    <i class="fas fa-gamepad"></i> Playing ${activity.name}
                  </div>
                  <div class="activity-content">
                    ${gameImage ? 
                      `<img src="${gameImage}" class="activity-img" alt="${activity.name}" onerror="this.outerHTML='<div class=\\'placeholder-img\\'>?</div>';" />` : 
                      `<div class="placeholder-img">?</div>`}
                    <div class="activity-details">
                      ${activity.details ? createTruncatedElement(activity.details, 'game-details') : ''}
                      ${activity.state ? createTruncatedElement(activity.state, 'game-state') : ''}
                    </div>
                  </div>
                </div>
              `;
              break;
              
            case 2: // Listening
              const musicImage = getAssetUrl(activity, 'large_image') || activity.assets?.large_image;
              const currentRotation = rotationAngles[activityId] || 0;
              
              activitiesHTML += `
                <div class="activity spotify" data-activity-id="${activityId}">
                  <div class="activity-header">
                    <i class="fas fa-music"></i> Listening to ${activity.name}
                  </div>
                  <div class="activity-content">
                    ${musicImage ? 
                      `<img src="${musicImage}" class="activity-img rotating" style="transform: rotate(${currentRotation}deg)" alt="Album cover" onerror="this.outerHTML='<div class=\\'placeholder-img rotating\\' style=\\'transform: rotate(${currentRotation}deg)\\'></div>';" />` : 
                      `<div class="placeholder-img rotating" style="transform: rotate(${currentRotation}deg)"></div>`}
                    <div class="activity-details">
                      ${createTruncatedElement(activity.details || 'Unknown song', 'song-title')}
                      ${createTruncatedElement(activity.state || 'Unknown artist', 'song-artist')}
                      ${activity.assets?.large_text ? createTruncatedElement(activity.assets.large_text, 'song-album') : ''}
                    </div>
                  </div>
                </div>
              `;
              break;
              
            case 3: // Watching
              const watchImage = getAssetUrl(activity, 'large_image') || activity.assets?.large_image;
              
              activitiesHTML += `
                <div class="activity watching" data-activity-id="${activityId}">
                  <div class="activity-header">
                    <i class="fas fa-tv"></i> Watching ${activity.name}
                  </div>
                  <div class="activity-content">
                    ${watchImage ? 
                      `<img src="${watchImage}" class="activity-img" alt="${activity.name}" onerror="this.outerHTML='<div class=\\'placeholder-img\\'>?</div>';" />` : 
                      `<div class="placeholder-img">?</div>`}
                    <div class="activity-details">
                      ${activity.details ? createTruncatedElement(activity.details, 'media-details') : ''}
                      ${activity.state ? createTruncatedElement(activity.state, 'media-state') : ''}
                    </div>
                  </div>
                </div>
              `;
              break;
              
            default: // Other activities
              const activityImage = getAssetUrl(activity, 'large_image') || activity.assets?.large_image;
              
              let activityIcon = 'fas fa-desktop';
              let activityType = 'Using';
              
              if (activity.type === 1) {
                activityIcon = 'fas fa-video';
                activityType = 'Streaming';
              }
              
              activitiesHTML += `
                <div class="activity rich-presence" data-activity-id="${activityId}">
                  <div class="activity-header">
                    <i class="${activityIcon}"></i> ${activityType} ${activity.name}
                  </div>
                  <div class="activity-content">
                    ${activityImage ? 
                      `<img src="${activityImage}" class="activity-img" alt="${activity.name}" onerror="this.outerHTML='<div class=\\'placeholder-img\\'>?</div>';" />` : 
                      `<div class="placeholder-img">?</div>`}
                    <div class="activity-details">
                      ${activity.details ? createTruncatedElement(activity.details, 'app-details') : ''}
                      ${activity.state ? createTruncatedElement(activity.state, 'app-state') : ''}
                    </div>
                  </div>
                </div>
              `;
          }
          
          previousActivities[activityId] = activity;
        });

        // Clean up rotation angles for removed activities
        Object.keys(rotationAngles).forEach(activityId => {
          if (!activities.some(activity => `${activity.type}-${activity.name}` === activityId)) {
            delete rotationAngles[activityId];
          }
        });

        statusHTML += `<div class="activities-container">${activitiesHTML}</div>`;
      } else if (data.discord_status !== 'offline') {
        statusHTML += '<div class="activity-none">Not doing anything</div>';
      }
      
      statusElement.innerHTML = statusHTML || 'Offline';
    }

    // Initial fetch and setup
    fetchDiscordStatus();
    setInterval(fetchDiscordStatus, 5000);
    requestAnimationFrame(updateRotations);
  </script>
    <script src="https://unpkg.com/twemoji@14.0.2/dist/twemoji.min.js" integrity="sha384-ICOlZarapRIX6UjKPcWKEpubjg7lGADN7Y9fYP4DU9zm0aPFhgnP5ef+XFaPyKv+" crossorigin="anonymous"></script>
</body>
</html>
